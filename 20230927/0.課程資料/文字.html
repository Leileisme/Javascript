<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <script>
    let text = '   Aa sdlfSdlkfj Al  '
    /*
      console.log(text)
      // 文字.trim()
      // 移除前後空白，回傳是文字
      text = text.trim()
      console.log(text)
      // 文字.toUpperCase()
      // 轉大寫，回傳是文字
      text = text.toUpperCase()
      console.log(text)
      // 文字.toLowerCase()
      // 轉小寫，回傳是文字
      text = text.toLowerCase()
      console.log(text)
    */
    text = text.trim().toUpperCase().toLowerCase()
    console.log(text)

    let text2 = '外賣 咖哩拌飯 咖哩潤餅'
    // 文字.includes(尋找文字, 從第幾個字開始找)
    // 是否有包含尋找文字，回傳是 boolean
    // 從第幾個字開始找是選填，預設是 0
    // let hasCurry = text2.includes('咖哩')
    let hasCurry = text2.includes('咖哩', 10)
    console.log(hasCurry)
    // 文字.indexOf(尋找文字, 從第幾個字開始找)
    // 尋找文字，回傳索引，找不到是 -1
    // 從第幾個字開始找是選填，預設是 0
    let indexCurry = text2.indexOf(' ')
    console.log(indexCurry)

    // 文字.match(Regex)
    // 把符合的結果用陣列回傳
    // g = 回傳兩個以上結果
    let matchCurry = text2.match(/咖哩/g)
    console.log(matchCurry)
    // 文字.matchAll(Regex)
    // 把符合的結果用陣列回傳，RegExpStringIterator 物件只能用迴圈取資料
    // g = 回傳兩個以上結果
    let matchAllCurry = text2.matchAll(/咖哩/g)
    console.log(matchAllCurry)
    for (const match of matchAllCurry) {
      console.log(match)
    }

    // 文字.replace(搜尋文字, 取代文字)
    // 只會取代第一個，回傳取代後的文字
    let replaceCurry = text2.replace('咖哩', '三色豆')
    console.log(replaceCurry)

    // 文字.replace(Regex, 取代文字)
    // 可以使用 g 全部取代，回傳取代後的文字
    let replaceCurry2 = text2.replace(/咖哩/g, '三色豆')
    console.log(replaceCurry2)

    let email = 'asdasd@gmail.com'
    let emailMatch = email.match(/^[0-9a-zA-Z]+@[0-9a-zA-Z]+\.[0-9a-zA-Z]+$/g)
    // console.log(emailMatch ? 'email 格式正確' : 'email 格式不正確')
    if (emailMatch) {
      console.log('email 格式正確')
    } else {
      console.log('email 格式不正確')
    }

    // Regex 的 () 代表群組
    // 取代時可以用 $數字 代表第幾個群組的字
    let emailRegexGroup = /^([0-9a-zA-Z]+)@([0-9a-zA-Z]+\.[0-9a-zA-Z]+)$/g
    let emailReplace = email.replace(emailRegexGroup,'帳號是 $1，網域是 $2')
    let emailMatchAll = email.matchAll(emailRegexGroup)
    console.log(emailReplace)
    for (const match of emailMatchAll) {
      // 0: "asdasd@gmail.com"
      // 1: "asdasd"
      // 2: "gmail.com"
      // groups: undefined
      // index: 0
      console.log(match)
    }

    let emailRegexGroup2 = /^(?<account>[0-9a-zA-Z]+)@(?<domain>[0-9a-zA-Z]+\.[0-9a-zA-Z]+)$/g
    let emailReplace2 = email.replace(emailRegexGroup2,'帳號是 $<account>，網域是 $<domain>')
    let emailMatchAll2 = email.matchAll(emailRegexGroup2)
    console.log(emailReplace2)
    for (const match of emailMatchAll2) {
      // 0: "asdasd@gmail.com"
      // 1: "asdasd"
      // 2: "gmail.com"
      // groups: {
      //  account: "asdasd"
      //  domain: "gmail.com"
      // }
      // index: 0
      console.log(match)
    }

    let text3 = 'abcdefg'
    //           0123456

    // 文字.substr(開始位置, 長度)
    // 位置可以放負數，代表倒數，-1 是倒數第一個字
    // text3.substr(-2, 3)
    // text3.length = 7
    // -2 => 7 - 2 => 5
    // text3.substr(-2, 3) = text3.substr(5, 3)
    // 長度不寫會直接取到結尾
    console.log(text3.substr(-2, 3))
    console.log(text3.substr(1))

    // 文字.substring(開始位置, 結束位置)
    // 不包含結束位置
    // 結束位置不寫會直接取到結尾
    console.log(text3.substring(2, 6))

    // 文字.slice(開始位置, 結束位置)
    // 不包含結束位置
    // 結束位置不寫會直接取到結尾
    // 位置可以放負數，代表倒數，-1 是倒數第一個字
    console.log(text3.slice(2, 6))
    console.log(text3.slice(-4, -2))

    let num1 = '123456.789'
    console.log(parseInt(num1))
    console.log(parseFloat(num1))
    console.log(num1 * 1)
    console.log(Number(num1))

    let num2 = 'abcd'
    console.log(parseInt(num2))
    console.log(parseFloat(num2))
    console.log(num2 * 1)
    console.log(Number(num2))
    console.log(num2 * 1 === NaN) // false
    console.log(isNaN(num2 * 1))  // true

    let text4 = 'aaa,bbb,ccc,ddd'
    console.log(text4.split(','))
    console.log(email.split('@'))
    let filename = 'aslkdhasd.dfgdfgdfg..jpg'
    let filenamearray = filename.split('.')
    console.log(filenamearray)
    console.log(filenamearray[filenamearray.length - 1])
    console.log(filenamearray.at(-1))
  </script>
</body>
</html>